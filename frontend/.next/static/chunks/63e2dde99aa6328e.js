(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97107,e=>{"use strict";var t=e.i(48277),s=e.i(30668),a=e.i(35884);let r=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l=(0,a.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),d=(0,a.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),c=(0,a.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),i=(0,a.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var n=e.i(1831);function x({params:e}){let a=(0,s.use)(e),[d,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0),h=()=>{n.default.get(`/jobs/${a.id}`).then(e=>x(e.data)).catch(e=>console.error(e)).finally(()=>u(!1))};return((0,s.useEffect)(()=>{h();let e=setInterval(h,2e3);return()=>clearInterval(e)},[a.id]),m&&!d)?(0,t.jsx)("div",{className:"text-neutral-500",children:"Loading job..."}):d?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-neutral-800 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["Job #",d.id]}),(0,t.jsxs)("p",{className:"text-neutral-400",children:["Created: ",new Date(d.created_at).toLocaleString()]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(o,{status:d.status,large:!0})})]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:d.targets.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-neutral-800 bg-neutral-900/50 overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-neutral-800 flex justify-between items-center bg-neutral-900",children:[(0,t.jsx)("span",{className:"font-mono font-bold text-sm text-neutral-300",children:e.port}),(0,t.jsx)(o,{status:e.status})]}),e.failure_category&&(0,t.jsx)("div",{className:"px-4 py-3 bg-red-500/10 border-b border-red-500/30",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(c,{className:"h-4 w-4 text-red-400 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-xs font-semibold text-red-300 mb-1",children:e.failure_category.replace(/_/g," ").toUpperCase()}),e.remediation&&(0,t.jsx)("div",{className:"text-xs text-red-200/80",children:e.remediation})]})]})}),(0,t.jsx)("div",{className:"p-4 bg-black border-b border-neutral-800",children:(0,t.jsx)("div",{className:"h-32 overflow-y-auto font-mono text-xs text-neutral-400 whitespace-pre-wrap",children:e.log||"Waiting for output..."})}),e.verification_results&&e.verification_results.length>0&&(0,t.jsxs)("div",{className:"p-4 space-y-2",children:[(0,t.jsxs)("h4",{className:"text-xs font-semibold text-neutral-300 flex items-center gap-2",children:[(0,t.jsx)(i,{className:"h-3 w-3"}),"Verification Checks (",e.verification_results.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e.verification_results.map((e,s)=>(0,t.jsx)("div",{className:`rounded-lg border p-2 text-xs ${"pass"===e.status?"border-emerald-500/30 bg-emerald-500/5":"fail"===e.status?"border-red-500/30 bg-red-500/5":"border-amber-500/30 bg-amber-500/5"}`,children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:["pass"===e.status?(0,t.jsx)(r,{className:"h-3 w-3 text-emerald-400 mt-0.5"}):"fail"===e.status?(0,t.jsx)(l,{className:"h-3 w-3 text-red-400 mt-0.5"}):(0,t.jsx)(c,{className:"h-3 w-3 text-amber-400 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-neutral-200",children:e.check_name}),(0,t.jsx)("div",{className:"text-neutral-400 mt-1",children:e.message}),e.evidence&&(0,t.jsxs)("details",{className:"mt-2",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-neutral-500 hover:text-neutral-300",children:"Evidence"}),(0,t.jsx)("pre",{className:"mt-1 p-2 bg-black/50 rounded text-[10px] font-mono text-neutral-500 overflow-x-auto",children:e.evidence})]})]})]})},s))})]})]},e.id))})]}):(0,t.jsx)("div",{className:"text-red-500",children:"Job not found"})}function o({status:e,large:s=!1}){let a="bg-neutral-800 text-neutral-400",c=(0,t.jsx)(d,{className:s?"h-5 w-5":"h-3 w-3"});return"running"===e?(a="bg-blue-500/20 text-blue-400 border-blue-500/30",c=(0,t.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-blue-500 border-t-transparent"})):"completed"===e||"success"===e?(a="bg-emerald-500/20 text-emerald-400 border-emerald-500/30",c=(0,t.jsx)(r,{className:s?"h-5 w-5":"h-3 w-3"})):"failed"===e&&(a="bg-red-500/20 text-red-400 border-red-500/30",c=(0,t.jsx)(l,{className:s?"h-5 w-5":"h-3 w-3"})),(0,t.jsxs)("div",{className:`flex items-center gap-2 rounded-full border px-3 py-1 font-medium ${a} ${s?"text-sm":"text-xs"}`,children:[c,(0,t.jsx)("span",{className:"capitalize",children:e})]})}e.s(["default",()=>x],97107)}]);