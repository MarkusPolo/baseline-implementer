module.exports=[3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},18672,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(31261);let f=(0,e.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),g=(0,e.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),h=(0,e.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var i=a.i(34075);function j(){let a=(0,d.useRouter)(),[e,j]=(0,c.useState)(1),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)({name:"",description:"",profileId:void 0,mgmtVlan:"1",mgmtIpType:"static",enableSsh:!0,localUser:"admin",generateCrypto:!0});(0,c.useEffect)(()=>{i.default.get("/profiles").then(a=>l(a.data)).catch(()=>{})},[]);let o=()=>{let a="";return a+=`hostname {{ hostname }}
!
interface Vlan${m.mgmtVlan}
`,"static"===m.mgmtIpType?a+=" ip address {{ mgmt_ip }} {{ mgmt_mask }}\n":a+=" ip address dhcp\n",a+=" no shutdown\n!\nip default-gateway {{ gateway }}\n!\n",m.enableSsh&&(a+=`username ${m.localUser} privilege 15 secret {{ secret }}
ip domain-name example.com
`,m.generateCrypto&&(a+="crypto key generate rsa modulus 2048\n"),a+="line vty 0 4\n transport input ssh\n login local\n!\n"),a},p=()=>{let a=[{name:"hostname",label:"Hostname",type:"text",required:!0},{name:"gateway",label:"Default Gateway",type:"ipv4",required:!0}];return"static"===m.mgmtIpType&&(a.push({name:"mgmt_ip",label:"Management IP",type:"ipv4",required:!0}),a.push({name:"mgmt_mask",label:"Subnet Mask",type:"ipv4",required:!0})),m.enableSsh&&a.push({name:"secret",label:`${m.localUser} Password`,type:"password",required:!0}),{fields:a}},q=async()=>{try{await i.default.post("/templates",{name:m.name,body:o(),schema:p(),profile_id:m.profileId}),a.push("/templates")}catch(a){alert("Failed to save template"),console.error(a)}};return(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Template Wizard"}),(0,b.jsx)("p",{className:"text-neutral-400",children:"Create a standard switch configuration template."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded ${1===e?"bg-blue-600 text-white":"text-neutral-500"}`,children:"1. Basics"}),(0,b.jsx)(f,{className:"h-3 w-3 text-neutral-600"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded ${2===e?"bg-blue-600 text-white":"text-neutral-500"}`,children:"2. Network"}),(0,b.jsx)(f,{className:"h-3 w-3 text-neutral-600"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded ${3===e?"bg-blue-600 text-white":"text-neutral-500"}`,children:"3. Security"}),(0,b.jsx)(f,{className:"h-3 w-3 text-neutral-600"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded ${4===e?"bg-emerald-600 text-white":"text-neutral-500"}`,children:"4. Preview"})]}),(0,b.jsxs)("div",{className:"bg-neutral-900/50 border border-neutral-800 rounded-xl p-6 space-y-6",children:[1===e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"General Information"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Template Name"}),(0,b.jsx)("input",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.name,onChange:a=>n({...m,name:a.target.value}),placeholder:"e.g. Access Switch L2"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Description"}),(0,b.jsx)("textarea",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.description,onChange:a=>n({...m,description:a.target.value}),placeholder:"Optional description"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Device Profile (Optional)"}),(0,b.jsxs)("select",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.profileId||"",onChange:a=>n({...m,profileId:a.target.value?parseInt(a.target.value):void 0}),children:[(0,b.jsx)("option",{value:"",children:"-- Generic/Default --"}),k.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.name," (",a.vendor,")"]},a.id))]}),(0,b.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Select a device profile to use vendor-specific command patterns."})]})]}),2===e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Management Network"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Management VLAN ID"}),(0,b.jsx)("input",{type:"number",className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.mgmtVlan,onChange:a=>n({...m,mgmtVlan:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"IP Configuration"}),(0,b.jsxs)("select",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.mgmtIpType,onChange:a=>n({...m,mgmtIpType:a.target.value}),children:[(0,b.jsx)("option",{value:"static",children:"Static IP (Ask per device)"}),(0,b.jsx)("option",{value:"dhcp",children:"DHCP"})]})]})]}),3===e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Access & Security"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:m.enableSsh,onChange:a=>n({...m,enableSsh:a.target.checked}),className:"accent-blue-600"}),(0,b.jsx)("label",{className:"text-sm text-neutral-300",children:"Enable SSH Access"})]}),m.enableSsh&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Local Admin Username"}),(0,b.jsx)("input",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:m.localUser,onChange:a=>n({...m,localUser:a.target.value})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:m.generateCrypto,onChange:a=>n({...m,generateCrypto:a.target.checked}),className:"accent-blue-600"}),(0,b.jsx)("label",{className:"text-sm text-neutral-300",children:"Generate Crypto Keys (RSA 2048)"})]})]})]}),4===e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Review Template"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-xs uppercase text-neutral-500 font-bold block",children:"Generated Config"}),(0,b.jsx)("pre",{className:"text-xs font-mono bg-black p-3 rounded-lg overflow-x-auto text-green-400 border border-neutral-800",children:o()})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("span",{className:"text-xs uppercase text-neutral-500 font-bold block",children:"Generated Schema"}),(0,b.jsx)("pre",{className:"text-xs font-mono bg-black p-3 rounded-lg overflow-x-auto text-blue-400 border border-neutral-800",children:JSON.stringify(p(),null,2)})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-4 border-t border-neutral-800",children:[(0,b.jsxs)("button",{onClick:()=>j(a=>a-1),disabled:1===e,className:"flex items-center gap-2 px-4 py-2 text-sm text-neutral-400 hover:text-white disabled:opacity-50",children:[(0,b.jsx)(g,{className:"h-4 w-4"})," Back"]}),e<4?(0,b.jsxs)("button",{onClick:()=>j(a=>a+1),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:["Next ",(0,b.jsx)(f,{className:"h-4 w-4"})]}):(0,b.jsxs)("button",{onClick:q,disabled:!m.name,className:"flex items-center gap-2 bg-emerald-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 disabled:opacity-50",children:[(0,b.jsx)(h,{className:"h-4 w-4"})," Save Template"]})]})]})]})}a.s(["default",()=>j],18672)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3b3e56f3._.js.map