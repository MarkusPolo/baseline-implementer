(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,35884,e=>{"use strict";var t=e.i(30668);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:d,...o},m)=>(0,t.createElement)("svg",{ref:m,...l,width:a,height:a,stroke:e,strokeWidth:n?24*Number(r)/Number(a):r,className:s("lucide",i),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),n=(e,l)=>{let n=(0,t.forwardRef)(({className:n,...i},c)=>(0,t.createElement)(r,{ref:c,iconNode:l,className:s(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...i}));return n.displayName=a(e),n};e.s(["default",()=>n],35884)},96086,(e,t,a)=>{t.exports=e.r(9187)},6305,e=>{"use strict";let t=(0,e.i(35884).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],6305)},23207,e=>{"use strict";let t=(0,e.i(35884).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],23207)},17995,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(96086),l=e.i(23207);let r=(0,e.i(35884).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var n=e.i(6305),i=e.i(1831);function c(){let e=(0,s.useRouter)(),[c,d]=(0,a.useState)(1),[o,m]=(0,a.useState)([]),[x,u]=(0,a.useState)({name:"",description:"",profileId:void 0,mgmtVlan:"1",mgmtIpType:"static",enableSsh:!0,localUser:"admin",generateCrypto:!0});(0,a.useEffect)(()=>{i.default.get("profiles/").then(e=>m(e.data)).catch(()=>{})},[]);let h=()=>{let e="";return e+=`hostname {{ hostname }}
!
interface Vlan${x.mgmtVlan}
`,"static"===x.mgmtIpType?e+=" ip address {{ mgmt_ip }} {{ mgmt_mask }}\n":e+=" ip address dhcp\n",e+=" no shutdown\n!\nip default-gateway {{ gateway }}\n!\n",x.enableSsh&&(e+=`username ${x.localUser} privilege 15 secret {{ secret }}
ip domain-name example.com
`,x.generateCrypto&&(e+="crypto key generate rsa modulus 2048\n"),e+="line vty 0 4\n transport input ssh\n login local\n!\n"),e},p=()=>{let e=[{name:"hostname",label:"Hostname",type:"text",required:!0},{name:"gateway",label:"Default Gateway",type:"ipv4",required:!0}];return"static"===x.mgmtIpType&&(e.push({name:"mgmt_ip",label:"Management IP",type:"ipv4",required:!0}),e.push({name:"mgmt_mask",label:"Subnet Mask",type:"ipv4",required:!0})),x.enableSsh&&e.push({name:"secret",label:`${x.localUser} Password`,type:"password",required:!0}),{fields:e}},g=async()=>{try{await i.default.post("templates/",{name:x.name,body:h(),config_schema:p(),profile_id:x.profileId}),e.push("/templates")}catch(e){alert("Failed to save template"),console.error(e)}};return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Template Wizard"}),(0,t.jsx)("p",{className:"text-neutral-400",children:"Create a standard switch configuration template."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded ${1===c?"bg-blue-600 text-white":"text-neutral-500"}`,children:"1. Basics"}),(0,t.jsx)(l.ChevronRight,{className:"h-3 w-3 text-neutral-600"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded ${2===c?"bg-blue-600 text-white":"text-neutral-500"}`,children:"2. Network"}),(0,t.jsx)(l.ChevronRight,{className:"h-3 w-3 text-neutral-600"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded ${3===c?"bg-blue-600 text-white":"text-neutral-500"}`,children:"3. Security"}),(0,t.jsx)(l.ChevronRight,{className:"h-3 w-3 text-neutral-600"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded ${4===c?"bg-emerald-600 text-white":"text-neutral-500"}`,children:"4. Preview"})]}),(0,t.jsxs)("div",{className:"bg-neutral-900/50 border border-neutral-800 rounded-xl p-6 space-y-6",children:[1===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"General Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Template Name"}),(0,t.jsx)("input",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.name,onChange:e=>u({...x,name:e.target.value}),placeholder:"e.g. Access Switch L2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Description"}),(0,t.jsx)("textarea",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.description,onChange:e=>u({...x,description:e.target.value}),placeholder:"Optional description"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Device Profile (Optional)"}),(0,t.jsxs)("select",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.profileId||"",onChange:e=>u({...x,profileId:e.target.value?parseInt(e.target.value):void 0}),children:[(0,t.jsx)("option",{value:"",children:"-- Generic/Default --"}),o.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.vendor,")"]},e.id))]}),(0,t.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"Select a device profile to use vendor-specific command patterns."})]})]}),2===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Management Network"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Management VLAN ID"}),(0,t.jsx)("input",{type:"number",className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.mgmtVlan,onChange:e=>u({...x,mgmtVlan:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"IP Configuration"}),(0,t.jsxs)("select",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.mgmtIpType,onChange:e=>u({...x,mgmtIpType:e.target.value}),children:[(0,t.jsx)("option",{value:"static",children:"Static IP (Ask per device)"}),(0,t.jsx)("option",{value:"dhcp",children:"DHCP"})]})]})]}),3===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Access & Security"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.enableSsh,onChange:e=>u({...x,enableSsh:e.target.checked}),className:"accent-blue-600"}),(0,t.jsx)("label",{className:"text-sm text-neutral-300",children:"Enable SSH Access"})]}),x.enableSsh&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-neutral-300",children:"Local Admin Username"}),(0,t.jsx)("input",{className:"w-full rounded bg-neutral-950 border border-neutral-700 px-3 py-2 text-white mt-1",value:x.localUser,onChange:e=>u({...x,localUser:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:x.generateCrypto,onChange:e=>u({...x,generateCrypto:e.target.checked}),className:"accent-blue-600"}),(0,t.jsx)("label",{className:"text-sm text-neutral-300",children:"Generate Crypto Keys (RSA 2048)"})]})]})]}),4===c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Review Template"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-xs uppercase text-neutral-500 font-bold block",children:"Generated Config"}),(0,t.jsx)("pre",{className:"text-xs font-mono bg-black p-3 rounded-lg overflow-x-auto text-green-400 border border-neutral-800",children:h()})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-xs uppercase text-neutral-500 font-bold block",children:"Generated Schema"}),(0,t.jsx)("pre",{className:"text-xs font-mono bg-black p-3 rounded-lg overflow-x-auto text-blue-400 border border-neutral-800",children:JSON.stringify(p(),null,2)})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-4 border-t border-neutral-800",children:[(0,t.jsxs)("button",{onClick:()=>d(e=>e-1),disabled:1===c,className:"flex items-center gap-2 px-4 py-2 text-sm text-neutral-400 hover:text-white disabled:opacity-50",children:[(0,t.jsx)(r,{className:"h-4 w-4"})," Back"]}),c<4?(0,t.jsxs)("button",{onClick:()=>d(e=>e+1),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:["Next ",(0,t.jsx)(l.ChevronRight,{className:"h-4 w-4"})]}):(0,t.jsxs)("button",{onClick:g,disabled:!x.name,className:"flex items-center gap-2 bg-emerald-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 disabled:opacity-50",children:[(0,t.jsx)(n.Save,{className:"h-4 w-4"})," Save Template"]})]})]})]})}e.s(["default",()=>c],17995)}]);