{"version":3,"sources":["../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../frontend/node_modules/lucide-react/src/icons/terminal.ts","../../../../../frontend/src/app/macros/edit/%5Bid%5D/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 19h8', key: 'baeox8' }],\n  ['path', { d: 'm4 17 6-6-6-6', key: '1yngyt' }],\n];\n\n/**\n * @component @name Terminal\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTloOCIgLz4KICA8cGF0aCBkPSJtNCAxNyA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/terminal\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Terminal = createLucideIcon('terminal', __iconNode);\n\nexport default Terminal;\n","\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { MacroEditor } from \"@/components/MacroEditor\";\r\n\r\nexport default function EditMacroPage({ params }: { params: { id: string } }) {\r\n    const router = useRouter();\r\n    const { id } = params;\r\n    const [macro, setMacro] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            fetch(`/api/macros/${id}`)\r\n                .then((res) => {\r\n                    if (!res.ok) throw new Error(\"Macro not found\");\r\n                    return res.json();\r\n                })\r\n                .then((data) => setMacro(data))\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    alert(\"Failed to load macro\");\r\n                    router.push(\"/macros\");\r\n                })\r\n                .finally(() => setLoading(false));\r\n        }\r\n    }, [id, router]);\r\n\r\n    const handleSave = async (name: string, description: string, steps: any[], schema: any) => {\r\n        try {\r\n            const response = await fetch(`/api/macros/${id}`, {\r\n                method: \"PUT\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    description,\r\n                    steps,\r\n                    config_schema: schema\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                alert(\"Macro updated successfully!\");\r\n                router.push(\"/macros\");\r\n            } else {\r\n                const err = await response.json();\r\n                alert(`Error: ${JSON.stringify(err.detail)}`);\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert(\"Failed to update macro\");\r\n        }\r\n    };\r\n\r\n    if (loading) return <div className=\"text-center py-12 text-neutral-500\">Loading macro...</div>;\r\n    if (!macro) return null;\r\n\r\n    return (\r\n        <div className=\"mx-auto max-w-4xl py-6\">\r\n            <MacroEditor\r\n                initialSteps={macro.steps}\r\n                initialName={macro.name}\r\n                initialDescription={macro.description}\r\n                onSave={handleSave}\r\n                onCancel={() => router.push(\"/macros\")}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2]}